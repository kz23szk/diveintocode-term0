
## OSにおけるユーザとは
linux OS(macOSもlinux OSベースなのでmaxOSも含む)におけるユーザとはファイルやディレクトへの操作がコントロールされたアカウント（linux OSにログインし、OSの機能を利用できる権利）になります。
ユーザはユーザ名とそのユーザ名に紐づくパスワードを使ってOSにログインすることができ、ユーザごとにホームディレクトが割り当てられます。

linuxOSはもともと「何をしているか分からないのなら、ここにいるべきでない」というアプローチをとっており、ユーザにすべての権限を与えるOSです。（macOSやwindowsOSはユーザに危険な操作をさせないようにしたよく言えば親切な、悪く言えば不自由なOSです。）
ユーザというものがなかったとすれば、だれもが全権限を持ったアカウントでログインすることになり、`rm -rf ~/* `(ルートディレクト以下を全削除、なんのコマンドも打てなくなる)といった危険な操作ができてしまいます。

これを防ぐためにファイルやディレクトリへの権限をコントロールしたいと思うのが自然で、
そのコントロールの最小単位がユーザということになります。


特に現在は個人が１台端末を持つことが当たり前になったので意識が薄いかもしれませんが、
まだ端末が高価であったころ（ホストコンピュータ時代）は複数人グループで端末を使うことは珍しくありませんでした。
たとえばその時代に「新人が入社初日によく分からずログインして/binディレクトリを消してlinuxコマンドが丸々使えなくなっちゃったよ」なんてことと、一人一台ノートPCが与えられる時代の「新人がコーヒーをこぼして使えなくなっちゃった」といったことで会社に与えるインパクトがまるで違うのが理解できると思います。

また自分が今どのユーザであるかは`whoami`コマンドで確認できます。

## OSにおけるグループとは

OSにおけるグループとはOSユーザの属性にそってタグづけをしたタグのことです。
OSはそのタグでユーザがファイルやディレクトリに何をしてもよいかということ（読み取り、書き込み、実行権限）を判断します。

たとえばあるファイルは全ての開発者には公開し、利用者には見られないようにしたいとします。
グループがなかった場合、それぞれのユーザに各ファイルやディレクトリの権限をそれぞれ付与したり、それを管理するのは非常に手間で考えたくありません。
逆にグループを設定して、そのグループごとに権限を設定しておけば、新しいユーザに権限を付ける場合にもユーザにグループを付与するだけで一括して権限を与えることができ非常に楽になります。

またuserの所有グループは`groups user`で確認できます。

## ファイル・ディレクトリの権限 (Unix linux)

ここではファイル・ディレクトリの権限について説明します。

まずカレントディレクトリにあるファイルやフォルダの権限を確認するには`ls -l`コマンドを
使います。

例として`ls -l`で下記のような出力をされた場合の見方を解説します。
```
-rw-r--r--  1 user user      9  1月 1 00:00 hoge.txt
```


一番左の文字列（`-rw-r--r--`）の塊が一文字ごとに下記を意味します。

1. ディレクトリかいないか(d or -)
1. 所有者の読み取り権限有無　(r or -)
1. 所有者の書き込み権限  (w or -)
1. 所有者の実行権限  (x or -)
1. 所有者と同じグループユーザの読み取り権限有無　(r or -)
1. 所有者と同じグループユーザの書き込み権限  (w or -)
1. 所有者と同じグループユーザの実行権限  (x or -)
1. それ以外のユーザの読み取り権限有無　(r or -)
1. それ以外のユーザの書き込み権限  (w or -)
1. それ以外のユーザの実行権限  (x or -)

ここでこのhoge.txtファイルを読み取り権限のみに限定する場合は
`chmod 444 hoge.txt`とコマンドします。

`444`という数字がそれぞれの桁が所有者、所有者と同じグループユーザ、それ以外のユーザの権限を指定しています。

さらに各桁は読み取り権限（4）,書き込み権限（2）,実行権限（1）の合計となっており、
たとえば読み取り権限と実行権限を付ける場合は5,
読み取り権限と書き込み権限を付ける場合は6,
どの権限もつけない場合は0を指定します。

また `user user`の部分は

一つ目がそのファイル、ディレクトリの所有者（作った人）、２つ目が所有グループになります。上記の例では見かけ上どちらもuserになっていますが、一つ目はuserというユーザのことを指し、２つ目はuserグループのことを指しています。
